(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-090e46b1"],{"3a63":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-dialog",{attrs:{title:e.detailData.user_name,visible:e.show},on:{"update:visible":function(t){e.show=t}}},[n("div",[n("el-avatar",{attrs:{size:50,src:e.detailData.avatar}},[n("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})]),n("el-image",{attrs:{src:e.detailData.url}}),n("p",[e._v("简介: ")]),e.edit?e._e():n("p",[e._v(e._s(e.detailData.describe))]),e.edit?n("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.detailData.describe,callback:function(t){e.$set(e.detailData,"describe",t)},expression:"detailData.describe"}}):e._e()],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.showBtn&&3!==e.collection,expression:"!showBtn && collection !== 3"}],on:{click:function(t){return e.collectionWork(e.collection?e.detailData.work_id:e.detailData.id,e.showBtn)}}},[e._v("收 藏")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showBtn&&3!==e.collection,expression:"showBtn && collection !== 3"}],on:{click:function(t){return e.collectionWork(e.collection?e.detailData.work_id:e.detailData.id,e.showBtn)}}},[e._v("取消收藏")]),e.edit?n("el-button",{on:{click:function(t){e.edit=!1}}},[e._v("取 消")]):e._e(),e.edit?e._e():n("el-button",{directives:[{name:"show",rawName:"v-show",value:3===e.collection,expression:"collection === 3"}],on:{click:function(t){e.edit=!0}}},[e._v("编辑")]),e.edit?e._e():n("el-button",{attrs:{type:"primary"},on:{click:e.hideDialog}},[e._v("确 定")]),e.edit?n("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保 存")]):e._e()],1)])],1)},a=[],i=n("3fa5"),o=n("f9aa"),c={name:"DetailInfo",props:["dialogTableVisible","detailData","detailList","collection"],created:function(){console.log(this.detailData)},watch:{show:function(){this.hideDialog()}},data:function(){return{show:this.dialogTableVisible,src:"https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg",showBtn:this.detailData.collection,userId:this.$store.getters.consumerInfo.id,secondCategory:this.$route.params.id,edit:!1}},methods:{hideDialog:function(){this.$emit("update:dialogTableVisible",!1)},collectionWork:function(e,t){var n=this,r={user_id:this.userId,work_id:e};2===this.collection?Object(o["h"])(r).then((function(e){2e3===e.code&&(Object(i["megSuc"])("取消收藏成功"),n.showBtn=!n.showBtn,Object(o["b"])(n.secondCategory,n.userId).then((function(e){2e3===e.code&&(n.$emit("update:detailList",e.collection_list),n.$emit("update:dialogTableVisible",!1))})))})):1===this.collection&&(t?Object(o["h"])(r).then((function(e){2e3===e.code&&(Object(i["megSuc"])("取消收藏成功"),n.showBtn=!n.showBtn,Object(o["d"])(n.secondCategory,n.userId).then((function(e){2e3===e.code&&n.$emit("update:detailList",e.detail_list)})))})):Object(o["g"])(r).then((function(e){2e3===e.code&&(Object(i["megSuc"])("收藏成功"),n.showBtn=!n.showBtn,Object(o["d"])(n.secondCategory,n.userId).then((function(e){2e3===e.code&&n.$emit("update:detailList",e.detail_list)})))})))},save:function(){Object(o["f"])(this.detailData).then((function(e){2e3===e&&Object(i["megSuc"])("修改成功")}))}}},u=c,s=n("2877"),l=Object(s["a"])(u,r,a,!1,null,"6f5d72c7",null);t["default"]=l.exports},f9aa:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"f",(function(){return w})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return v}));var r=n("1da1"),a=(n("99af"),n("96cf"),n("5724"));function i(e){return o.apply(this,arguments)}function o(){return o=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].request({url:"/work/info?category=".concat(t),method:"get"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function c(e,t){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].request({url:"/work/detail/".concat(t,"?user_id=").concat(n),method:"get"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function s(e){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].request({url:"/work/collection",method:"post",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].request({url:"/work/collection",method:"delete",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].request({url:"/work/collection?user_id=".concat(t),method:"get"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function w(e){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].request({url:"/work?work_id=".concat(t.id),method:"put",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function b(){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].request({url:"/topic",method:"get"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function v(e){return k.apply(this,arguments)}function k(){return k=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].request({url:"/topic",method:"post",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}}}]);
//# sourceMappingURL=chunk-090e46b1.e9cf44af.js.map